<html>
<head>
<link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
	<div class="container" style="padding-top: 20px">
		<div class="card">
			<div class="card-header">
				<h3>WANN DEMO</h3>
			</div>
			<div class="card-body">
					<p> 
					This WANN online demo interface is implemented with the 
					<a href="https://www.tensorflow.org/js">Tensorflow.js</a> API. It provides three experimental setups on which WANN domain adaptation algorithm
					can be tested with different hyper-parameters settings and compared to basic DA strategies.
					<br>
					Find more information on WANN algorithm and a complete Python implementation of the experiments on this <a href="https://github.com/AnonymousAccount0/WANN">GitHub Repository</a>.
					</p>
			</div>
		</div>
	</div>
    <div class="container" style="padding-top: 20px">
        <div class="card">
            <div class="card-header">
                <strong>DEMO - Synthetic Experiment</strong>
            </div>
            <div class="card-body">
				<p> 
				We consider here a synthetic experimental setup where source and target input instances are drawn uniformly on the [0, 1] interval.
				Source and target instances follow labeling functions of the form:  <br>
				 <img src="/../rsc/formula.PNG" alt="formula" width="200" height="30"> <br>
				 With - <b>Amp. shift</b> < <img src="/../rsc/k.PNG" alt="k" width="15" height="15" > < <b>Amp. shift</b> and
				 <img src="/../rsc/epsilon.PNG" alt="epsilon" width="15" height="15"> given by <b>Noise lvl</b> or <b>Tgt noise lvl</b> (for target training data). <br>
				 Neural networks with two layers of 100 neurons and ReLU activations are used to learn the task. 
				 However, to reduce computational time, we use here a linear network as discrepancy hypothesis of WANN algorithm.
				 <br> 
				</p>
				<h6>Parameters: </h6>
				<div class="input-group">
					<label>Source Nbr: <input type="text" id="srcNbr" class="form-control" value=5> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Amp. shift: <input type="text" id="ampShift"  class="form-control" value=2> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt labels Nbr: <input type="text" id="tgtLabels" class="form-control" value=8> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Noise lvl: <input type="text" id="noiseLvl" class="form-control" value=0.05> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt noise lvl: <input type="text" id="tgtNoiseLvl" class="form-control" value=0.8> </label>
				</div><br>
				<button type="button" class="btn btn-primary pull-right" id="loadtoyButton" >Load experiment</button><br>
				<div id="toy" > </div><br>
				<div class="input-group">
					<label> Model:
					<select name="models" id="model-select">
						<option value="wann">WANN</option>
						<option value="noReweight">No Reweight</option>
						<option value="srcOnly">Src Only</option>
						<option value="tgtOnly">Tgt Only</option>
					</select> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Epochs: <input type="text" id="epochs" class="form-control" value=30> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Batch size: <input type="text" id="batchSize"  class="form-control" value=64> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Learning rate: <input type="text" id="lrToy" class="form-control" value=0.01> </label>
				</div><br>
                
				<div class="input-group">
				
					<button type="button" class="btn btn-primary pull-right" id="fitButton" >Run</button><br>
					
					<div id="loader_container">
	  
					  <div id="bar_container">
						<div id="progress_bar">
						  <div id="progress_percentage">
							10%
						  </div>
						</div>
					  </div>					  
					</div>
					
					<h5><span class="badge badge-secondary" id="time"></span></h5>
					<h5><span class="badge badge-secondary" id="output"></span></h5>
					<button type="button" class="btn btn-primary pull-right" id="viz"> Visualize Training</button><br>
					
				</div><br>
				
				<div id="predict" > </div><br>
				<div id="graph"></div>
            </div>
        </div>
    </div> 


	<div class="container" style="padding-top: 20px">
        <div class="card">
            <div class="card-header">
                <strong>DEMO - Kin Experiment</strong>
            </div>
            <div class="card-body">
				<p> 
				Experiments are conducted here on <a href="http://www.cs.toronto.edu/~delve/data/datasets.html">Kin-8xy </a> which is a family of datasets synthetically
				generated from a realistic simulation of the forward kinematics of an 8 link all-revolute robot arm.
				The task consists in predicting the distance of the end-effector from a target. The task for each dataset
				has a specific degree of noise (moderate "m" or high "h") and linearity (fairly-linear "f", non-linear "n").
				Each dataset is made of around 8000 row data and 8 features<br>
				
				Shallow networks of 100 neurons and a projecting constant given by <b>Proj. Constant</b> are used to learn the task.
				</p>
				<h6>Parameters: </h6>
				<div class="input-group">
					<label>Source:
						<select name="kins" id="kin-source">
							<option value="kin-8fm">kin-8fm</option>					
							<option value="kin-8fh">kin-8fh</option>
							<option value="kin-8nm">kin-8nm</option>
							<option value="kin-8nh">kin-8nh</option>
						</select>
					</label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Target: 
						<select name="kint" id="kin-target">
							<option value="kin-8nm">kin-8nm</option>
							<option value="kin-8fm">kin-8fm</option>
							<option value="kin-8fh">kin-8fh</option>
							<option value="kin-8nh">kin-8nh</option>
						</select>
					</label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Source size: <input type="text" id="srcKin" class="form-control" value=200></label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt train size: <input type="text" id="tgtTrainKin" class="form-control" value=10> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt test size: <input type="text" id="tgtTestKin" class="form-control" value=400> </label>
				</div><br>
				<button type="button" class="btn btn-primary pull-right" id="loadkinButton" >Load experiment</button><br>
				<div class="input-group">
				<div id="KinVal" > </div><br>
				<span class="input-group-btn" style="width:20px;"></span>
				<div id="KinHist" > </div><br>
				</div><br>
				<div class="input-group">
				<label> Model:
					<select name="models" id="model-select-kin">
						<option value="wannKin">WANN</option>
						<option value="noReweightKin">No Reweight</option>
						<option value="srcOnlyKin">Src Only</option>
						<option value="tgtOnlyKin">Tgt Only</option>
					</select> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Epochs: <input type="text" id="epochsKin" class="form-control" value=100></label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Batch size: <input type="text" id="batchSizeKin"  class="form-control" value=64> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Proj. Constant: <input type="text" id="projConstKin" class="form-control" value=10> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Proj. Constant W.: <input type="text" id="projConstWKin" class="form-control" value=10> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Learning rate: <input type="text" id="lrKin" class="form-control" value=0.01> </label>
				</div><br>
				<div class="input-group">
				
					<button type="button" class="btn btn-primary pull-right" id="fitKinButton" >Run</button><br>
					
					<div id="loader_container_kin">
	  
					  <div id="bar_container_kin">
						<div id="progress_bar_kin">
						  <div id="progress_percentage_kin">
							10%
						  </div><!--of #progress_percentage-->
						</div><!--of #progress_bar-->
					  </div><!--of #bar_container-->					  
					</div><!--of #loader_container-->
					
					<h5><span class="badge badge-secondary" id="timeKin"></span></h5>
					<h5><span class="badge badge-secondary" id="outputKin"></span></h5>
					
				</div><br>
	        </div>
        </div>
    </div>
	
	
	<div class="container" style="padding-top: 20px">
        <div class="card">
            <div class="card-header">
                <strong>DEMO - Superconductivity Experiment</strong>
            </div>
            <div class="card-body">
				<p> 
				Experiments are conducted here on the <a href="https://www.tensorflow.org/js">Superconductivity</a> UCI dataset.
				The goal is to predict the critical temperature of superconductors based on features extracted from their
				chemical formula. The dataset contains around 20000 row data and 80 features. 
				Four domains are defined by splitting along one input feature moderately correlated to the output. <br>
				
				Shallow networks of 100 neurons and a projecting constant given by <b>Proj. Constant</b> are used to learn the task.
				</p>
				<h6>Parameters: </h6>
				<div class="input-group">
					<label>Source:
						<select name="ucis" id="UCI-source">
							<option value="low">low</option>
							<option value="midle-low">midle-low</option>
							<option value="midle-high">midle-high</option>
							<option value="high">high</option>
						</select>
					</label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Target: 
						<select name="UCIt" id="UCI-target">
							<option value="midle-high">midle-high</option>
							<option value="low">low</option>
							<option value="midle-low">midle-low</option>
							<option value="high">high</option>
						</select>
					</label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Source size: <input type="text" id="srcUCI" class="form-control" value=500></label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt train size: <input type="text" id="tgtTrainUCI" class="form-control" value=10> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Tgt test size: <input type="text" id="tgtTestUCI" class="form-control" value=500> </label>
				</div><br>
				<button type="button" class="btn btn-primary pull-right" id="loadUCIButton" >Load experiment</button><br>
				<div class="input-group">
				<div id="UCIval" > </div><br>
				<span class="input-group-btn" style="width:20px;"></span>
				<div id="UCIhist" > </div><br>
				</div><br>
				<div class="input-group">
				<label> Model:
					<select name="models" id="model-select-UCI">
						<option value="wannUCI">WANN</option>
						<option value="noReweightUCI">No Reweight</option>
						<option value="srcOnlyUCI">Src Only</option>
						<option value="tgtOnlyUCI">Tgt Only</option>
					</select> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Epochs: <input type="text" id="epochsUCI" class="form-control" value=100> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Batch size: <input type="text" id="batchSizeUCI"  class="form-control" value=100> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Proj. Constant: <input type="text" id="projConstUCI" class="form-control" value=1> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Proj. Constant W.: <input type="text" id="projConstWUCI" class="form-control" value=0.1> </label>
					<span class="input-group-btn" style="width:20px;"></span>
					<label>Learning rate: <input type="text" id="lrUCI" class="form-control" value=0.001> </label>
				</div><br>
				<div class="input-group">
				
					<button type="button" class="btn btn-primary pull-right" id="fitUCIButton" >Run</button><br>
					
					<div id="loader_container_UCI">
	  
					  <div id="bar_container_UCI">
						<div id="progress_bar_UCI">
						  <div id="progress_percentage_UCI">
							10%
						  </div><!--of #progress_percentage-->
						</div><!--of #progress_bar-->
					  </div><!--of #bar_container-->					  
					</div><!--of #loader_container-->
					
					<h5><span class="badge badge-secondary" id="timeUCI"></span></h5>
					<h5><span class="badge badge-secondary" id="outputUCI"></span></h5>
					
				</div><br>
	        </div>
        </div>
	</div>
	
	<script src="index.js"></script>
	
	
</body>
</html>